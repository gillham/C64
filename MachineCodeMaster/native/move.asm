“ 10       PRT 20       GETWRD = $C12C 30       SYM 40       ORG $C055 50       WRD MOVE-1 60       ORG $C30B 70       ; BLOCK MOVE OF MEMORY - NO PROTECTION AGAINST MOVING VITAL SECTIONS 80       ; SYNTAX OF COMMAND 'MOVE A1.A2.L' 90       ; WHERE A1 = ORIGINAL ADDRESS 100       ;       A2 = FIANL ADDRESS 110       ;      L  = LENGTH OF BLOCK 120       ; ALSO NOTE 32K BLOCKS MAX 130       NEWADD = $61 140       OLDADD = NEWADD+2 150       LENGTH = $14 160       ; SUBROUTINE TO DECREMENT & TEST LENGTH 170       DECLEN LDA LENGTH 180       BNE LBL000 190       DEC LENGTH+1 200       LBL000 DEC LENGTH 210       LDA LENGTH 220       ORA LENGTH+1 230       RTS 240       ; MAIN ROUTINE 250       MOVE JSR GETWRD 260       LDA $14 270       PHA 280       LDA $15 290       PHA 300       JSR $AEFD 310       JSR GETWRD 320       LDA $14 330       PHA 340       LDA $15 350       PHA 360       JSR $AEFD 370       JSR GETWRD 380       ; DECIDE WHICH DIRECTION TO MOVE IN 390       LDY #3 400       LBL001 PLA 410       STA NEWADD.Y 420       DEY 430       BPL LBL001 440       LDA LENGTH 450       ORA LENGTH+1 460       BEQ LBL002 470       LDA NEWADD+1 480       CMP OLDADD+1 490       BCC MVEDWN 500       BNE MVEUP 510       LDA NEWADD 520       CMP OLDADD 530       BCC MVEDWN 540       ; MOVE BLOCK UPWARDS IN MEMORY 550       MVEUP CLD 560       CLC 570       LDA NEWADD 580       ADC LENGTH 590       STA NEWADD 600       LDA NEWADD+1 610       ADC LENGTH+1 620       STA NEWADD+1 630       CLC 640       LDA OLDADD 650       ADC LENGTH 660       STA OLDADD 670       LDA OLDADD+1 680       ADC LENGTH+1 690       STA OLDADD+1 700       LDY #0 710       LBL003 LDA (OLDADD).Y 720       STA (NEWADD).Y 730       TYA 740       BNE LBL004 750       DEC OLDADD+1 760       DEC NEWADD+1 770       LBL004 DEY 780       JSR DECLEN 790       BNE LBL003 800       LBL002 RTS 810       ; MOVE BLOCK DOWN THE MEMORY 820       MVEDWN LDY #0 830       LBL005 LDA (OLDADD).Y 840       STA (NEWADD).Y 850       INY 860       BNE LBL006 870       INC OLDADD+1 880       INC NEWADD+1 890       LBL006 JSR DECLEN 900       BNE LBL005 910       RTSEND